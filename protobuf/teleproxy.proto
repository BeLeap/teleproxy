syntax = "proto3";
option go_package = "beleap.dev/teleproxy/protobuf";

message ListenRequest {
  string api_key = 1;

  string header_key = 2;
  string header_value = 3;
}

message Http {
  string method = 1;
}

message DumpRequest {
  string api_key = 1;
}
message DumpResponse {
  string dump = 1;
}

service TeleProxy {
  rpc Listen(ListenRequest) returns (stream Http) {}
  rpc Dump(DumpRequest) returns (DumpResponse) {}
}
